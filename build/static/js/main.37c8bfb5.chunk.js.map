{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","newSearch","handleSearch","value","onChange","PersonForm","newName","newNumber","handleNameInput","handleNumberInput","addPerson","onSubmit","type","Person","person","handleDelete","name","number","onClick","Persons","personsToShow","map","id","baseUrl","personService","getAll","axios","get","then","response","data","create","newPerson","post","deletePerson","personID","delete","console","log","update","personToUpdate","put","Notification","message","messageType","messageStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","persons","setPersons","setNewName","setNewNumber","setNewSearch","setMessage","setMessageType","useEffect","personsData","filter","toLocaleLowerCase","includes","event","target","preventDefault","duplicateName","find","length","window","confirm","updatedPerson","returnedPersonsData","setTimeout","catch","error","p","updateServer","concat","addToServer","deleteFromServer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.37c8bfb5.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({newSearch, handleSearch}) => {\r\n\r\n    return (\r\n      <div>\r\n        filter shown with <input value={newSearch}  onChange={handleSearch}/>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({newName, newNumber, handleNameInput,handleNumberInput, addPerson}) => {\r\n\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n                name: <input value={newName} onChange={handleNameInput} />\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber} onChange={handleNumberInput} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\nconst Person = ({person, handleDelete}) => {\r\n\r\n    return (\r\n        <div>\r\n            <span>{person.name}</span>\r\n            <span>{person.number}</span>\r\n            <button onClick={() => handleDelete(person)}>delete</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react';\r\nimport Person from './Person'\r\n\r\n\r\nconst Persons = ({personsToShow, handleDelete}) => {\r\n\r\n    return(\r\n        <div>\r\n            { personsToShow.map(person => <Person key={person.id} person={person} handleDelete={handleDelete}/>) }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => { \r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    const request =  axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (personID) => {\r\n    const request = axios.delete(`${baseUrl}/${personID}`)\r\n    return request.then(response => {console.log(response); return response})    \r\n}\r\n\r\nconst update = (personToUpdate) => {\r\n    const request = axios.put(`${baseUrl}/${personToUpdate.id}`, personToUpdate)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst personService = { getAll, create, deletePerson, update }\r\n\r\nexport default personService","import React from 'react'\r\n\r\nconst Notification = ({message, messageType}) => {\r\n\r\n    const messageStyle = {\r\n      color: `${messageType === 'error' ? 'red' : 'green'}`,\r\n      background: 'lightgrey',\r\n      fontSize: '20px',\r\n      borderStyle: 'solid',\r\n      borderRadius: '5px',\r\n      padding: '10px',\r\n      marginBottom: '10px',\r\n    }\r\n  \r\n    return (\r\n      <div>\r\n     {message === null ? '' : (<div style={messageStyle}>{message}</div>)}\r\n     </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React, { useState, useEffect } from 'react'\n\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n  const [ message, setMessage] = useState(null)\n  const [messageType, setMessageType] = useState('success')\n  \n  const getPersonsData = () => {\n    personService\n      .getAll()\n      .then(personsData => {\n        setPersons(personsData)\n        }\n      )\n  }\n\n  useEffect(getPersonsData, [])\n\n  const addToServer = (newPerson) => {\n    personService\n      .create(newPerson)\n      .then(personsData => {\n        setPersons(persons.concat(personsData))\n      })\n      .then(() => {\n        setMessageType('success')\n        setMessage(`Added ${newPerson.name}`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n      .catch( error => {\n        console.log(error)\n        setMessageType('error')\n        setMessage(`Oh no! Could not add ${newPerson.name} to phonebook`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n\n  }\n\n  const updateServer = (name, newNumber) => {\n    const personToUpdate =  persons.find(person => person.name === name)\n    const updatedPerson = {...personToUpdate, number: newNumber}\n    personService\n      .update(updatedPerson)\n      .then(returnedPersonsData => {\n        setPersons(persons.map(person => person.id !== personToUpdate.id ? person : returnedPersonsData))})\n      .then(() => {\n        setMessageType('success')\n        setMessage(`Updated ${updatedPerson.name}`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n      .catch( error => {\n        console.log(error)\n        setMessageType('error')\n        setMessage(`Information of ${personToUpdate.name} has already been removed from server`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n        setPersons(persons.filter(p => p.id !== personToUpdate.id ))\n      })\n\n  }\n\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const duplicateName = persons.find(person => person.name === newName)\n    const newPerson = { \n      name: newName,\n      number: newNumber,\n      id: persons.length + 1,\n    }\n\n\n    if (duplicateName && window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n      updateServer(newName,newNumber)\n    } else {\n      addToServer(newPerson)\n    }    \n  \n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deleteFromServer = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n    personService\n      .deletePerson(person.id)\n      .then(() => { \n        setPersons(persons.filter(p => p.id !== person.id));\n      })\n      .then(() => {\n        setMessageType('success')\n        setMessage(`Deleted ${person.name} from phonebook`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n      .catch(error => {\n        setMessageType('error')\n        setMessage(`Oh no! Something went wrong when trying to delete ${person.name} in the phonebook to delete `)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)        \n      })\n    }\n  }\n\n  const handleNameInput = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberInput = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearch = (event) => {\n    setNewSearch(event.target.value)\n}\n\n  const handleDelete = (person) => {\n    deleteFromServer(person);\n  }\n\n  const personsToShow = newSearch !== '' ? persons.filter((person) => person.name.toLocaleLowerCase().includes(newSearch.toLocaleLowerCase())) : persons;\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} messageType={messageType}/>\n        <Filter newSearch={newSearch} handleSearch={handleSearch}/>\n      <h3>Add a new</h3>\n        <PersonForm \n          newName={newName} \n          newNumber={newNumber} \n          handleNameInput={handleNameInput} \n          handleNumberInput={handleNumberInput} \n          addPerson={addPerson} \n        />\n      <h2>Numbers</h2>\n        <Persons personsToShow={personsToShow} handleDelete={handleDelete}/>\n      </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n \n"],"sourceRoot":""}